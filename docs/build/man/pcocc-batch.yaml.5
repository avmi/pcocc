.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "PCOCC-BATCH.YAML" "5" "Jun 17, 2022" "0.7.0" "pcocc"
.SH NAME
pcocc-batch.yaml \- Batch environment configuration file
.SH DESCRIPTION
.sp
\fB/etc/pcocc/batch.yaml\fP is a YAML formatted file describing how pcocc should interact with the cluster batch environment. At this time pcocc expects a SLURM batch environment along with an etcd key\-value store.
.SH SYNTAX
.sp
This configuration files contains two keys. The \fBtype\fP key defines the target batch manager. Currently the only supported value is \fIslurm\fP for the aforementioned environment composed of SLURM and etcd. The \fBsettings\fP key contains a key/value mapping defining parameters for the target batch manager. The following parameters can be defined:
.SS SLURM settings
.INDENT 0.0
.TP
\fBetcd\-servers\fP
A list of hostnames of the etcd servers to use for pcocc.
.TP
\fBetcd\-ca\-cert\fP
Path to the etcd CA certificate (required for the "https" etcd\-protcol).
.TP
\fBetcd\-client\-port\fP
Port to connect to etcd servers.
.TP
\fBetcd\-protocol\fP
Protocol used to connect to etcd servers among:
.INDENT 7.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
\fIhttp\fP:  plain http.
.IP \(bu 2
\fIhttps\fP: http over secure transport.
.UNINDENT
.UNINDENT
.UNINDENT
.TP
\fBetcd\-auth\-type\fP
Authentication method to access the etcd servers among:
.INDENT 7.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
\fIpassword\fP use password authentication (recommended)
.IP \(bu 2
\fInone\fP do not use authentication
.UNINDENT
.UNINDENT
.UNINDENT
.TP
\fBbatch\-args\fP
A list of additionnal arguments passed to SLURM at allocation time.
.UNINDENT
.SH SAMPLE CONFIGURATION FILE
.sp
This is the default configuration file for reference. Please note that indentation is significant YAML:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Batch manager
type: slurm
settings:
     # List of etcd servers
     etcd\-servers:
         \- etcd1
         \- etcd2
         \- etcd3
     # CA certificate
     etcd\-ca\-cert: /etc/etcd/etcd\-ca.crt
     # Client port
     etcd\-client\-port: 2379
     # Protocol
     etcd\-protocol: http
     etcd\-auth\-type: password
.ft P
.fi
.UNINDENT
.UNINDENT
.SH AUTHOR
François Diakhaté
.SH COPYRIGHT
2017
.\" Generated by docutils manpage writer.
.
