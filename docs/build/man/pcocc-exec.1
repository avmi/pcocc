.\" Man page generated from reStructuredText.
.
.TH "PCOCC-EXEC" "1" "Sep 19, 2018" "0.5.0" "pcocc"
.SH NAME
pcocc-exec \- Execute commands through the pcocc guest agent
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
pcocc exec [OPTIONS] [CMD]...
.SH DECRIPTION
.sp
Execute commands through the guest agent
.sp
For this to work, the pcocc guest agent must be started in the guest. This is mostly available for internal use where we do not want to rely on a network connexion/ssh server.
.sp
\fBNOTE:\fP
.INDENT 0.0
.INDENT 3.5
It is possible to detach from the output by typing \fIEscape + Enter\fP\&.
In this case you may end the execution with \fIpcocc command release\fP\&.
.UNINDENT
.UNINDENT
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-i, \-\-index [INTEGER]
Index of the VM on which the command should be executed
.TP
.B \-j, \-\-jobid [INTEGER]
Jobid of the selected cluster
.TP
.B \-J, \-\-jobname [TEXT]
Job name of the selected cluster
.TP
.B \-w, \-\-rng [TEXT]
Rangeset or vmid on which to run the command
.TP
.B \-c, \-\-cores [TEXT]
Number of cores on which to run the command
.TP
.B \-u, \-\-user [TEXT]
User id to use to execute the command
.TP
.B \-g, \-\-gid
Group id to use to execute the command
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLES
.SS Execute a command
.sp
To run a command in the first VM of the default job as the current user:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pcocc exec "hostname"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To run the same command on all VMs (the "\-" rangeset means all VM):
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pcocc exec \-w \- "hostname"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To run a command as root in the third VM of the job named \fIcentos\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pcocc exec \-J centos \-u root \-i 2 cat /etc/shadow
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.sp
pcocc\-ssh(1), pcocc\-scp(1), pcocc\-exec(1), pcocc\-nc(1)
.SH AUTHOR
François Diakhaté
.SH COPYRIGHT
2017
.\" Generated by docutils manpage writer.
.
