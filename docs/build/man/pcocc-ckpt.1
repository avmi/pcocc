.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "PCOCC-CKPT" "1" "Jun 17, 2022" "0.7.0" "pcocc"
.SH NAME
pcocc-ckpt \- Checkpoint a virtual cluster
.SH SYNOPSIS
.sp
pcocc ckpt [OPTIONS] CKPT_DIR
.SH DESCRIPTION
.sp
Checkpoint the current state of a cluster. Both the disk image and memory of all VMs of the cluster are saved and the cluster is terminated. It is then possible to restart from this state using the \fI\-\-restart\-ckpt\fP option of the alloc and batch commands.
.sp
\fBCKPT_DIR\fP should not already exist unless \fI\-F\fP is specified. In that case, make sure you\(aqre not overwriting the checkpoint from which the cluster was restarted.
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
Qemu does not support checkpointing all types of virtual devices. In particular, it is not possible to checkpoint a VM with 9p exports mounted or attached to host devices such as an Infiniband virtual function.
.UNINDENT
.UNINDENT
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-j, \-\-jobid [INTEGER]
Jobid of the selected cluster
.TP
.B \-J, \-\-jobname [TEXT]
Job name of the selected cluster
.TP
.B \-F, \-\-force
Overwrite directory if exists
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLE
.sp
To checkpoint the cluster with jobid 256841 in the \fB$HOME/ckpt1/\fP directory:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pcocc ckpt \-j 256841 $HOME/ckpt1/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This produces a disk and a memory image for each VM:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
ls ./ckpt1/
disk\-vm0  disk\-vm1  memory\-vm0  memory\-vm1
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To restore a virtual cluster, see \fI\%pcocc\-alloc(1)\fP or \fI\%pcocc\-batch(1)\fP\&.
.SH SEE ALSO
.sp
\fI\%pcocc\-alloc(1)\fP, \fI\%pcocc\-batch(1)\fP, \fI\%pcocc\-save(1)\fP, \fI\%pcocc\-dump(1)\fP
.SH AUTHOR
François Diakhaté
.SH COPYRIGHT
2017
.\" Generated by docutils manpage writer.
.
